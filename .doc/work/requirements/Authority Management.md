# 权限管理 


# 变更记录
| 修改编号 | 版本 | 修改内容 | 修改人 | 修改日期   |
|----------|------|----------|--------|------------|
| 01       | v1.0 | 初始版本  | 李质颖  | 2019-02-24 |
| 02       | v1.1 | 整体修改  | 李质颖  | 2019-02-26 |

##  1.	需求概述
权限管理，一般指根据系统设置的安全规则或者安全策略，用户可以访问而且只能访问自己被授权的资源。
本平台中权限管理主要关注的任务有：

**（1）功能级权限管理；
（2）数据级权限管理；
（3）用户的管理；
（4）非功能性需求。**

首先要实现的是功能权限管理，开发人员可以在相应模块对功能点进行增删改查，并可以对登录的用户进行权限验证来判断其是否有权使用该功能；

其次对于数据权限管理，开发人员可以规定某些用户查看数据的范围，要求可以依据不同用户的角色来划分数据集，做到细粒度及数据级的权限管理；

最后拥有一个超级管理员来做最高层次的管理。



## 2.	权限管理需求介绍

权限管理主要基于以下概念：

![RBAC权限模型](https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike60%2C5%2C5%2C60%2C20/sign=f2517e4c6e061d95694b3f6a1a9d61b4/91ef76c6a7efce1bc646cfbeaf51f3deb48f6550.jpg)
### 2.1	用户管理

登入平台时，可实现正确的用户认证过程（由于用户认证过程不属于真正的权限管理范畴，在此不过多描述），点击已登录的用户头像，可以对当前用户的信息进行修改：
>（1）登录密码；
>（2）绑定手机号，邮箱账号或密保问题等安全性认证问题；
>（3）企业信息及备注。

可以创建新的用户，并添加角色，使之生效。

### 2.2	功能权限  

>（1）实现角色与功能点的关联；

>（2）实现用户与角色的关联；

>（3）对相应部门下所有用户的查询，包括其拥有的权限和验证其是否有特殊权限；

>（4）实现同一部门的用户组功能，使这些用户关联同样的角色；

>（5）实现同一部门的用户继承功能，使新建用户可以继承其他用户的角色；
 
>（6）对相应部门的权限/功能点进行增删改查；

>（7）对相应部门下成员角色进行增删改查；

>（8）实现规定权限的私有与公有性，来判断是否可继承；


### 2.3	数据权限

实现相应模块的特定角色的特定功能点的增删改查


## 3.	权限管理需求详细分析

| 模块 | 功能点 | M | S | C | W | 约束 | 估时/人日 |
|:---:|:---:|:--: | :--: | :---: | :--: | :---: |:--: |
| 用户管理模块 | 登录验证 |Y| | | | |2|
| | 绑定邮箱/手机 | | | | |Y|2|
| | 创建用户 |Y| | | | |2|
| | 删除用户 |Y| | | | |1|
| | 编辑用户信息 | |Y | | | |2|
| | 按组织架构查询用户 |Y| | | | |1|
| | 用户组与角色关联 | | |Y| | |2|
| | 用户继承 | | |Y| | |3|
| 功能点模块 | 创建功能点 |Y| | | | |2|
| | 删除功能点 |Y| | | | |1|
| | 修改功能点 |Y| | | | |3|
| | 按模块（部门）查询功能点 | |Y|  | | |2|
| | 按用户查询功能点 | | | |Y| |2|
| | 验证用户功能点 |Y| | | | |1|
| | 添加/修改功能点属性| |Y| | | |4|
| 角色模块 | 创建角色 |Y| | | | |2|
| | 删除角色 | |Y| | | |1|
| | 关联角色与功能点 |Y| | | | |2|
| | 关联用户与角色 |Y| | | | |2|
| 数据权限模块 | 添加功能点范围 |Y| | | | |2|
| | 修改功能点范围 |Y| | | | |4|
| | 删除功能点范围 |Y| | | | |1|


